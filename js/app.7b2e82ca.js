(function(e){function t(t){for(var r,s,i=t[0],o=t[1],l=t[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(t);while(m.length)m.shift()();return u.push.apply(u,l||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==a[o]&&(r=!1)}r&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},u=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="mknor-lvue-users_app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=o;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"38b6":function(e,t,n){},"491a":function(e,t,n){"use strict";var r=n("6b4a"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sm-container",attrs:{id:"app"}},[n("div",[n("h2",[e._v("Add a new album")]),n("album-form",{on:{"add:album":e.addAlbum}})],1),n("div",[e.loading?n("small",{staticClass:"loading"},[e._v("Loading data...")]):e._e(),e.error?n("small",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),n("h2",[e._v("List of reggae albums")]),n("album-list",{attrs:{albums:e.albums,loading:e.loading},on:{"update:album":e.updateAlbum,"delete:album":e.deleteAlbum}})],1)])},u=[],s=(n("99af"),n("4de4"),n("d81d"),n("d3b7"),n("2909")),i=(n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.noAlbums?n("p",{staticClass:"empty-array"},[e._v("No album has been registered")]):e._e(),n("table",[e._m(0),n("tbody",e._l(e.albums,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.id))]),e.active_album===t.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"album.userId"}],attrs:{type:"text"},domProps:{value:t.userId},on:{input:function(n){n.target.composing||e.$set(t,"userId",n.target.value)}}})]):n("td",[e._v(e._s(t.userId))]),e.active_album===t.id?n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"album.title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}})]):n("td",[e._v(e._s(t.title))]),e.active_album===t.id?n("td",[n("button",{on:{click:function(n){return e.updateAlbum(t)}}},[e._v("Save")]),n("button",{on:{click:function(n){return e.cancelEdit(t)}}},[e._v("Cancel")])]):n("td",[n("button",{on:{click:function(n){return e.editMode(t)}}},[e._v("Edit")]),n("button",{on:{click:function(n){return e.$emit("delete:album",t.id)}}},[e._v("Delete")])])])})),0)])])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Id")]),n("th",[e._v("User Id")]),n("th",[e._v("Title")]),n("th")])])}],c={name:"album-list",props:{albums:Array},data:function(){return{active_album:null}},methods:{editMode:function(e){this.cachedAlbum=Object.assign({},e),this.active_album=e.id},cancelEdit:function(e){Object.assign(e,this.cachedAlbum),this.active_album=null},updateAlbum:function(e){""!==e.userId&&""!==e.title&&(this.$emit("update:album",e.id,e),this.active_album=null)}},computed:{noAlbums:function(){return this.albums.length<=0}}},d=c,m=(n("491a"),n("2877")),b=Object(m["a"])(d,o,l,!1,null,"45f5943a",null),p=b.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("label",[e._v("User Id")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.album.userId,expression:"album.userId"}],ref:"album",class:{"has-error":e.isSubmitting&&e.invalidAlbum},attrs:{type:"text"},domProps:{value:e.album.userId},on:{focus:e.clearStatus,keypress:e.clearStatus,input:function(t){t.target.composing||e.$set(e.album,"userId",t.target.value)}}}),n("label",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.album.title,expression:"album.title"}],class:{"has-error":e.isSubmitting&&e.invalidTitle},attrs:{type:"text"},domProps:{value:e.album.title},on:{focus:e.clearStatus,keypress:e.clearStatus,input:function(t){t.target.composing||e.$set(e.album,"title",t.target.value)}}}),e.error&&e.isSubmitting?n("p",{staticClass:"error-message"},[e._v(" Please fill out all the required fields ")]):e._e(),e.success?n("p",{staticClass:"success-message"},[e._v(" Album added correctly ")]):e._e(),n("button",{attrs:{disabled:e.loading}},[e._v("Add album")])])},v=[],h={name:"album-form",props:{loading:Boolean},data:function(){return{album:{userId:"",title:""},isSubmitting:!1,error:!1,success:!1}},methods:{handleSubmit:function(){this.isSubmitting=!0,this.clearStatus(),this.invalidAlbum||this.invalidTitle?this.error=!0:(this.$emit("add:album",this.album),this.$refs.album.focus(),this.album={userId:"",title:""},this.error=!1,this.success=!0,this.isSubmitting=!1)},clearStatus:function(){this.error=!1,this.success=!1}},computed:{invalidAlbum:function(){return""===this.album.userId},invalidTitle:function(){return""===this.album.title}}},g=h,_=(n("f98c"),Object(m["a"])(g,f,v,!1,null,"085cdbe4",null)),y=_.exports,x={name:"App",mounted:function(){this.loadAlbums()},data:function(){return{albums:[],netError:"Error de conexiÃ³n, consulta al administrador",loading:!1,error:!1}},components:{AlbumList:p,AlbumForm:y},methods:{loadAlbums:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,fetch("https://jsonplaceholder.typicode.com/albums");case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,e.albums=r,e.success(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),t.t0.ok||(e.loading=!1,e.error=e.netError);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()},addAlbum:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,fetch("https://jsonplaceholder.typicode.com/albums",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return r=n.sent,n.next=7,r.json();case 7:a=n.sent,t.albums=[].concat(Object(s["a"])(t.albums),[a]),t.success(),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](1),n.t0.ok||(t.loading=!1,t.error=t.netError);case 15:case"end":return n.stop()}}),n,null,[[1,12]])})))()},updateAlbum:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.loading=!0,r.prev=1,r.next=4,fetch("https://jsonplaceholder.typicode.com/albums/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 4:return a=r.sent,r.next=7,a.json();case 7:u=r.sent,n.albums=n.albums.map((function(t){return t.id===e?u:t})),n.success(),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](1),r.t0.ok||(n.loading=!1,n.error=n.netError);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()},deleteAlbum:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,fetch("https://jsonplaceholder.typicode.com/albums/".concat(e),{method:"DELETE"});case 4:t.albums=t.albums.filter((function(t){return t.id!==e})),t.success(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),n.t0.ok||(t.loading=!1,t.error=t.netError);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},success:function(){this.loading=!1,this.error=!1}}},j=x,w=(n("034f"),Object(m["a"])(j,a,u,!1,null,null,null)),A=w.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(A)}}).$mount("#app")},"6b4a":function(e,t,n){},"85ec":function(e,t,n){},f98c:function(e,t,n){"use strict";var r=n("38b6"),a=n.n(r);a.a}});
//# sourceMappingURL=app.7b2e82ca.js.map